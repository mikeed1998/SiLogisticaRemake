# Activar mod_rewrite
RewriteEngine On

# Redirigir a index.php para todas las URL que no sean archivos o directorios
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^ index.php [L]

# Omitir archivos específicos de la reescritura
# RewriteRule ^(.+)\.php$ - [L]

RewriteRule ^Home$                              index.php?identificador=1&pagina=home
RewriteRule ^Nosotros$                          index.php?identificador=2&pagina=nosotros
RewriteRule ^Contacto$                          index.php?identificador=3&pagina=contacto
RewriteRule ^Tienda$                            index.php?identificador=4&pagina=tienda
RewriteRule ^Producto_([a-zA-Z0-9]+)$           index.php?identificador=5&pagina=detalle
RewriteRule ^Servicios$                         index.php?identificador=6&pagina=servicios
RewriteRule ^Servicio_([0-9]+)$                 index.php?identificador=7&pagina=servicio&id=$1 [L]
RewriteRule ^editarajax$                        index.php?identificador=99
RewriteRule ^Proxy$                             index.php?identificador=100
RewriteRule ^EditarAJAX$                        index.php?identificador=101
RewriteRule ^Mail$                              index.php?identificador=102
RewriteRule ^Aviso_de_privacidad$               index.php?identificador=103
RewriteRule ^Metodos_de_pago$                   index.php?identificador=104
RewriteRule ^Devoluciones$                      index.php?identificador=105
RewriteRule ^Terminos_y_condiciones$            index.php?identificador=106
RewriteRule ^Garantias$                         index.php?identificador=107
RewriteRule ^Politicas_de_envio$                index.php?identificador=108

RewriteRule ^Login$                             index.php?identificador=50
RewriteRule ^SignUp$                            index.php?identificador=51
RewriteRule ^Logout$                            index.php?identificador=52
RewriteRule ^Dashboard$                         index.php?identificador=53

RewriteRule ^admin$                             index.php?identificador=200 [L]
RewriteRule ^adminlogin$                        index.php?identificador=201 [L]
RewriteRule ^adminlogout$                       index.php?identificador=202
RewriteRule ^checkadmin$                        index.php?identificador=203
RewriteRule ^admin_configuracion$               index.php?identificador=204
RewriteRule ^admin_politicas$                   index.php?identificador=205
RewriteRule ^admin_faqs$                        index.php?identificador=206
RewriteRule ^admin_home$                        index.php?identificador=207
RewriteRule ^admin_nosotros$                    index.php?identificador=208
RewriteRule ^admin_contacto$                    index.php?identificador=209
RewriteRule ^admin_servicios$                   index.php?identificador=210
RewriteRule ^admin_servicio_create$             index.php?identificador=211
RewriteRule ^admin_servicio_edit_([0-9]+)$      index.php?identificador=212&pagina=admin_servicio&id=$1 [L]
RewriteRule ^admin_sliders$                     index.php?identificador=213
RewriteRule ^admin_empresas$                    index.php?identificador=214
RewriteRule ^admin_logic$                       index.php?identificador=215
RewriteRule ^admin_faq_create$                  index.php?identificador=216
RewriteRule ^admin_faq_edit_([0-9]+)$           index.php?identificador=217&pagina=admin_faq&id=$1 [L]
RewriteRule ^admin_links$                       index.php?identificador=218
RewriteRule ^admin_links_create$                index.php?identificador=219
RewriteRule ^admin_links_delete$                index.php?identificador=220

# Permitir archivos .htaccess en subdirectorios
Options +FollowSymLinks

# Establecer el tipo de archivo MIME para archivos PHP
AddType application/x-httpd-php .php

# Protección contra ataques de fuerza bruta
<IfModule mod_php>
    php_flag register_globals off
    php_flag magic_quotes_gpc off
    php_flag session.use_cookies on
    php_flag session.use_only_cookies on
    php_flag session.cookie_httponly on
    php_value session.gc_maxlifetime 1440
</IfModule>

# Denegar el acceso a archivos sensibles
<FilesMatch "(\.bak|\.config|\.git|\.svn|\.DS_Store)$">
    Order deny,allow
    Deny from all
</FilesMatch>